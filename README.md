

# Фудграм

«Фудграм» — проект, в котором пользователи могут:

- публиковать свои рецепты;
- просматривать рецепты других пользователей;
- добавлять рецепты в избранное;
- подписываться на публикации других авторов.

Зарегистрированным пользователям доступен сервис «Список покупок»,
позволяющий создать список продуктов для приготовления выбранных блюд.

## Автор проекта

Коробейников Дмитрий: [https://github.com/?ysclid=map548899f488962396](https://github.com/?ysclid=map548899f488962396).

## Применённые технологии

- Python;
- Django;
- Django REST Framework;
- PostgreSQL;
- Gunicorn;
- Nginx;
- Docker;
- Docker Compose;
- Docker Volumes;
- Docker Hub;
- GitHub Actions.

## Реализация CI/CD

Для реализации CI/CD в проекте используются следующие инструменты:

- GitHub Actions — для автоматизации рабочих процессов;
- Docker — для контейнеризации приложения.

Конфигурация CI/CD описана в файле .github/workflows/main.yml

## Локальное развёртывание с Docker

Для начала работы необходимо клонировать репозиторий на свой локальный компьютер.
Используйте следующую команду:

```bash
git clone https://github.com/kdatlt/foodgram.git
```

После клонирования репозитория перейдите в папку, где находится файл docker-compose.yml.
Это можно сделать с помощью команды:

```bash
cd foodgram/infra
```

## Подсказка для заполнения .env

Перед запуском контейнеров необходимо настроить файл .env.
Вы можете использовать пример файла example.env для понимания структуры и необходимых переменных:

```bash
DB_NAME=your_db_name
DB_USER=your_db_user
DB_PASSWORD=your_db_password
DB_HOST=db
DB_PORT=5432
```

Скопируйте файл example.env в .env и заполните необходимые параметры.

## Подъём контейнеров в Docker

Для запуска контейнеров используйте команду:

```bash
docker-compose up -d
```

Эта команда запустит все необходимые контейнеры в фоновом режиме.

## Подготовка базы: миграции, создание супера, импорт фикстур

После запуска контейнеров необходимо подготовить базу данных. Для этого выполните следующие шаги:

- примените миграции для обновления схемы базы данных;
- создайте суперпользователя для доступа к административной панели;
- наполните базу данными ингредиентов.

Выполните команды:

```bash
docker-compose exec web python manage.py migrate

docker-compose exec web python manage.py createsuperuser

docker-compose exec web python manage.py loaddata initial_data
```

## Сборка статики

Для сборки статических файлов используйте следующую команду:
```bash
docker-compose exec web python manage.py collectstatic
```

## Запуск сервера 

После выполнения всех предыдущих шагов вы можете запустить сервер с помощью команды:

```bash
docker-compose up
```

Теперь ваш проект должен быть доступен по адресу http://localhost:8000.

## Команды локального развёртыванию без использования Docker

Для начала работы необходимо клонировать существующий репозиторий на свой локальный компьютер.
Используйте следующую команду:
```bash
git clone https://github.com/kdatlt/foodgram.git
```

Смена папки После клонирования репозитория перейдите в папку проекта с помощью команды:
```bash
cd foodgram/
```

Настройка виртуального окружения 
Для создания и активации виртуального окружения выполните следующие команды:
```bash
python -m venv venv source venv/bin/activate # Для Unix/macOS venv\Scripts\activate # Для Windows

Подсказка для заполнения .env 
Создайте файл .env в корне проекта и заполните его необходимыми переменными окружения.
Пример файла .env:
```bash
SECRET_KEY=your_secret_key
DATABASE_URL=your_database_url
```
Миграция базы и создание суперпользователя 
Выполните миграцию базы данных и создайте суперпользователя с помощью следующих команд:

```bash
python manage.py migrate python manage.py createsuperuser
```
Импорт продуктов из CSV или JSON фикстур 
Для импорта продуктов вы можете использовать CSV или JSON фикстуры.
Пример команды для импорта из JSON:

```bash
python manage.py upload_ingredients ingredients.json
```

Запуск сервера Запустите сервер с помощью команды:
```bash
python manage.py runserver
```

Ссылка для получения полной технической документации к API
Для доступа к полной технической документации к API используйте следующую ссылку:

[http://localhost/docs](http://localhost/docs)
